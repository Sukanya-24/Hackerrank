1)Product-without-sales
=======================
select p.sku,product_name
from product p left outer join invoice_item i 
on p.id=i.product_id 
where i.invoice_id IS NULL

2)Customer-spending
========================
select a.customer_name,avg(b.total_price) from customer a
join invoice b on a.id=b.customer_id
group by a.customer_name
having avg(b.total_price) <=(select avg(total_price)/4 from invoice)
order by avg(b.total_price) desc;

3)Product sales per city
===========================
select ci.city_name,pr.product_name,round(sum(ii.line_total_price),2) as tot
from city ci,customer cu,invoice i,invoice_item ii,product pr
where ci.id=cu.city_id and cu.id=i.customer_id and i.id=ii.invoice_id and
ii.product_id=pr.id
group by ci.city_name,pr.product_name
order by tot desc

4)Invoices-per-country
=======================
select co.country_name,count(*),avg(i.total_price)
from country co,city ci,customer cu,invoice i
where co.id=ci.country_id and ci.id=cu.city_id and cu.id=i.customer_id
group by co.country_name
having avg(i.total_price) > (select avg(total_price) from invoice)


5)Business-expansion
========================
select ua.id,ua.first_name,ua.last_name,cu.id,cu.customer_name,count(cu.id)from
customer cu,user_account ua,contact c
where cu.id=c.customer_id and c.user_account_id=ua.id
group by ua.id,ua.first_name,ua.last_name,cu.id,cu.customer_name
having count(cu.id)>1
